#+BEGIN_COMMENT
.. title: Using Emacs - 26 - Google Calendar, Org Agenda
.. slug: using-emacs-26-gcal
.. date: 2017-01-04 10:00:26 UTC-05:00
.. tags: emacs, tools, draft
.. category:
.. link: 
.. description:
.. type: text
#+END_COMMENT

* org-gcal  

https://github.com/myuhe/org-gcal.el


#+BEGIN_SRC emacs-lisp
  (setq package-check-signature nil)


  (use-package org-gcal
    :ensure t
    :config
    (setq org-gcal-client-id "oauth 2.0 client ID"
	  org-gcal-client-secret "client secret"
	  org-gcal-file-alist '(("zamansky@gmail.com" .  "~/Dropbox/orgfiles/gcal.org"))))

  (add-hook 'org-capture-after-finalize-hook (lambda () (org-gcal-sync) ))
  (add-hook 'org-agenda-mode-hook (lambda () (org-gcal-sync) ))


#+END_SRC

* Capturing

#+BEGIN_SRC emacs-lisp
  (setq org-agenda-files (list "~/Dropbox/orgfiles/gcal.org"
			       "~/Dropbox/orgfiles/i.org"
			       "~/Dropbox/orgfiles/schedule.org"))


  (setq org-capture-templates
	'(("a" "Appointment" entry (file  "~/Dropbox/orgfiles/gcal.org" )
	   "* %?\n\n%^T\n\n:PROPERTIES:\n\n:END:\n\n")
	  ("l" "Link" entry (file+headline "~/Dropbox/orgfiles/links.org" "Links")
	   "* %? %^L %^g \n%T" :prepend t)
	  ("b" "Blog idea" entry (file+headline "~/Dropbox/orgfiles/i.org" "Blog Topics:")
	   "* %?\n%T" :prepend t)
	  ("t" "To Do Item" entry (file+headline "~/Dropbox/orgfiles/i.org" "To Do")
	   "* TODO %?\n%u" :prepend t)
	  ("n" "Note" entry (file+headline "~/Dropbox/orgfiles/i.org" "Note space")
	   "* %?\n%u" :prepend t)
	  ("j" "Journal" entry (file+datetree "~/Dropbox/journal.org")
	   "* %?\nEntered on %U\n  %i\n  %a")
	  ("s" "Screencast" entry (file "~/Dropbox/orgfiles/screencastnotes.org")
	   "* %?\n%i\n")))

  (setq org-agenda-custom-commands
	'(("c" "Simple agenda view"
	   ((agenda "")
	    (alltodo "")))))

#+END_SRC

* Calfw

#+BEGIN_SRC emacs-lisp
  (use-package calfw
    :ensure ;TODO: 
    :config
    (require 'calfw) 
    (require 'calfw-org)
    (setq cfw:org-overwrite-default-keybinding t)
    (require 'calfw-ical)
  
    (defun mycalendar ()
      (interactive)
      (cfw:open-calendar-buffer
       :contents-sources
       (list
	;; (cfw:org-create-source "Green")  ; orgmode source
	(cfw:ical-create-source "gcal" "https://somecalnedaraddress" "IndianRed") ; devorah calender
	(cfw:ical-create-source "gcal" "https://anothercalendaraddress" "IndianRed") ; google calendar ICS
	))) 
    (setq cfw:org-overwrite-default-keybinding t))

  (use-package calfw-gcal
	  :ensure t
	  :config
	  (require 'calfw-gcal))


#+END_SRC




*  

* 
Relevant links:
- Video series overview page:
  - http://cestlaz.github.io/stories/emacs
- Code:
  - [[https://github.com/zamansky/using-emacs/tree/master][https://github.com/zamansky/using-emacs/tree/master]]


